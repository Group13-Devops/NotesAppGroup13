<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Index</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" type="css" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Asap:ital,wght@0,400;1,500&display=swap" rel="stylesheet">

    <style>
        h1 {
          font-size: 50px;
          font-family: 'Asap', sans-serif;
          font-weight: bold;
          background: -webkit-linear-gradient(#553c9a, #ee4b2b);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
        }
      </style>
</head>
<body>
    <%- include('./partials/navbar.ejs') %>
    <div class="container ">
    <h1 style="margin:auto">All My Notes (<%= notes.length %>)</h1>
    

    <% notes.forEach(note => { %>
        <a href="/notes/<%= note._id %>" style="text-decoration: none;
            color: inherit;">
        <li class="eachNote"
        style="       
        flex-wrap: wrap;
        justify-content: center;
        justify-content: center;
        align-items: center;
        margin: auto;
        margin-bottom: 30px;
        width: 300px;
        border: 0.5px;
        border-style:solid;
        border-radius: 6px;
        padding: 10px;
        list-style: none;
        text-align: center; ">
            
            <p style="height: fit-content;"><%= note.content %></p>
            <hr>

            <div style="width: fit-content; margin: auto;">
                <p style="color: grey;">Priority: <text><%= note.priority %></text></p>
                <a href="/notes/<%= note._id %>" style="text-decoration: none;
                    color: inherit;"><button class="btn btn-outline-info" style="width: 90px;">View</button></a>
                <a href="/notes/<%= note._id %>/edit"><button class="btn btn-outline-warning" style="width: 90px;">Edit</button></a>
                <form action="/notes/<%= note._id %>" method="POST"
                    onsubmit="return confirm('Are you sure you want to delete this note?');">
                    <input type="hidden" name="_method" value="DELETE">
                    <button class="btn btn-outline-danger" style="width: 90px; margin-top: 5px;" type="submit">Delete</button>
                </form>
            </div>
        </a></li>
    <% }) %>
</div>
</body>
</html>

